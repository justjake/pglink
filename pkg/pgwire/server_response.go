// Code generated by generate.go; DO NOT EDIT.

package pgwire

import (
	"github.com/jackc/pgx/v5/pgproto3"
)

// ServerResponse is implemented by all Server Response message wrapper types.
type ServerResponse interface {
	Server()
	Response()
	PgwireMessage()
}

// Compile-time checks that all wrapper types implement the interface.
var (
	_ ServerResponse = ServerResponseReadyForQuery{}
	_ ServerResponse = ServerResponseCommandComplete{}
	_ ServerResponse = ServerResponseDataRow{}
	_ ServerResponse = ServerResponseEmptyQueryResponse{}
	_ ServerResponse = ServerResponseErrorResponse{}
	_ ServerResponse = ServerResponseFunctionCallResponse{}
)

// Start-up completed.
// Simple Query mode: ready for next query.
// Extended Query mode: response to Sync; backend no longer ignoring messages, ready for next command.
type ServerResponseReadyForQuery FromServer[*pgproto3.ReadyForQuery]

func (ServerResponseReadyForQuery) Server()        {}
func (ServerResponseReadyForQuery) Response()      {}
func (ServerResponseReadyForQuery) PgwireMessage() {}

// SQL command completed normally.
type ServerResponseCommandComplete FromServer[*pgproto3.CommandComplete]

func (ServerResponseCommandComplete) Server()        {}
func (ServerResponseCommandComplete) Response()      {}
func (ServerResponseCommandComplete) PgwireMessage() {}

// Query results (both query modes)
type ServerResponseDataRow FromServer[*pgproto3.DataRow]

func (ServerResponseDataRow) Server()        {}
func (ServerResponseDataRow) Response()      {}
func (ServerResponseDataRow) PgwireMessage() {}

// Response to empty query.
type ServerResponseEmptyQueryResponse FromServer[*pgproto3.EmptyQueryResponse]

func (ServerResponseEmptyQueryResponse) Server()        {}
func (ServerResponseEmptyQueryResponse) Response()      {}
func (ServerResponseEmptyQueryResponse) PgwireMessage() {}

// Error response.
type ServerResponseErrorResponse FromServer[*pgproto3.ErrorResponse]

func (ServerResponseErrorResponse) Server()        {}
func (ServerResponseErrorResponse) Response()      {}
func (ServerResponseErrorResponse) PgwireMessage() {}

// Response to function call.
type ServerResponseFunctionCallResponse FromServer[*pgproto3.FunctionCallResponse]

func (ServerResponseFunctionCallResponse) Server()        {}
func (ServerResponseFunctionCallResponse) Response()      {}
func (ServerResponseFunctionCallResponse) PgwireMessage() {}

// ToServerResponse converts a pgproto3.BackendMessage to a ServerResponse if it matches one of the known types.
func ToServerResponse(msg pgproto3.BackendMessage) (ServerResponse, bool) {
	switch m := msg.(type) {
	case *pgproto3.ReadyForQuery:
		return ServerResponseReadyForQuery{m}, true
	case *pgproto3.CommandComplete:
		return ServerResponseCommandComplete{m}, true
	case *pgproto3.DataRow:
		return ServerResponseDataRow{m}, true
	case *pgproto3.EmptyQueryResponse:
		return ServerResponseEmptyQueryResponse{m}, true
	case *pgproto3.ErrorResponse:
		return ServerResponseErrorResponse{m}, true
	case *pgproto3.FunctionCallResponse:
		return ServerResponseFunctionCallResponse{m}, true
	}
	return nil, false
}
